webpackJsonp([14],{q3Wa:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("TVG1"),r={data:function(){var e=this;return{dialogVisible1:!1,dialogVisible2:!1,formLabelAlign:{account:"",password:""},formRegister:{checkPass:"",account:"",password:"",name:"",Email:"",phone:"",college:""},rules2:{account:[{required:!0,message:"请输入账号",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]}],checkPass:[{required:!0,validator:function(t,s,i){""===s?i(new Error("请再次输入密码")):s!==e.formRegister.password?i(new Error("两次输入密码不一致!")):i()},trigger:["blur","change"]}],name:[{required:!0,message:"请输入姓名",trigger:["blur","change"]}],Email:[{required:!0,message:"请输入邮箱地址",trigger:["blur","change"]},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"请输入电话号码",trigger:["blur","change"]}],college:[{required:!0,message:"请输入学院信息",trigger:["blur","change"]}]}}},methods:{login:function(){this.dialogVisible1=!0},register:function(){this.dialogVisible2=!0},handleLogin:function(){var e=this;i.a.ajax.post("/login",this.$qs.stringify(this.formLabelAlign)).then(function(t){console.log(t),200==t.status&&(1===t.data?(e.dialogVisible1=!1,e.$message({message:"登录成功!",type:"success"}),e.$router.push("/personal/"+e.formLabelAlign.account)):e.$message.warning("账户不存在或密码错误!"))}).catch(function(e){console.log(e)})},handleRegister:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.warning({message:"请完善信息",showClose:!0}),!1;delete t.formRegister.checkPass,i.a.ajax.post("/register",t.$qs.stringify(t.formRegister)).then(function(e){console.log(e),200===e.status&&(1===e.data?(t.dialogVisible2=!1,t.$message.success("注册成功!")):t.$message.error("用户存在,请重试！"))}).catch(function(e){console.log(e)})})}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"register"},[e._m(0),e._v(" "),s("div",{staticClass:"content"},[s("p",[e._v("Participants are requested to register and log in to view their own information.")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.register}},[e._v("register")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.login}},[e._v("login")]),e._v(" "),s("el-dialog",{attrs:{title:"login",visible:e.dialogVisible1,width:"25%"},on:{"update:visible":function(t){e.dialogVisible1=t}}},[s("el-form",{attrs:{"label-width":"70px",model:e.formLabelAlign,size:"mini"}},[s("el-form-item",{attrs:{label:"account",size:"mini"}},[s("el-input",{model:{value:e.formLabelAlign.account,callback:function(t){e.$set(e.formLabelAlign,"account",t)},expression:"formLabelAlign.account"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.formLabelAlign.password,callback:function(t){e.$set(e.formLabelAlign,"password",t)},expression:"formLabelAlign.password"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible1=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleLogin}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"register",visible:e.dialogVisible2,width:"28%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[s("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{"label-width":"95px",model:e.formRegister,size:"mini","status-icon":"",rules:e.rules2}},[s("el-form-item",{attrs:{label:"account",size:"mini",prop:"account"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.formRegister.account,callback:function(t){e.$set(e.formRegister,"account",t)},expression:"formRegister.account"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"password",size:"mini",prop:"password"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.formRegister.password,callback:function(t){e.$set(e.formRegister,"password",t)},expression:"formRegister.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"confirmPass",size:"mini",prop:"checkPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.formRegister.checkPass,callback:function(t){e.$set(e.formRegister,"checkPass",t)},expression:"formRegister.checkPass"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"name",size:"mini",prop:"name"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.formRegister.name,callback:function(t){e.$set(e.formRegister,"name",t)},expression:"formRegister.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Email",size:"mini",prop:"Email"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.formRegister.Email,callback:function(t){e.$set(e.formRegister,"Email",t)},expression:"formRegister.Email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"telephone",size:"mini",prop:"phone"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.formRegister.phone,callback:function(t){e.$set(e.formRegister,"phone",t)},expression:"formRegister.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"college",size:"mini",prop:"college"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.formRegister.college,callback:function(t){e.$set(e.formRegister,"college",t)},expression:"formRegister.college"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible2=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleRegister("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"routerTitle"},[t("span",[this._v("Registration")])])}]};var a=s("VU/8")(r,o,!1,function(e){s("rreP")},"data-v-080da58a",null);t.default=a.exports},rreP:function(e,t){}});
//# sourceMappingURL=14.c54f699f9e790bdf82a4.js.map